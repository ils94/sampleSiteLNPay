<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Invoice</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <h1>Lightning Payment</h1>
    <form id="payment-form">
      <label>Amount (fiat currency):</label>
      <input type="text" id="amount_fiat" required>
      <br>
      <label>Lightning Address:</label>
      <input type="text" id="ln_address" required>
      <br>
      <label>Description:</label>
      <input type="text" id="description" required>
      <br>
      <label>Correlation ID:</label>
      <div style="display: flex; align-items: center;">
        <input type="text" id="correlation_id" required>
        <button type="button" id="generate_correlation" style="margin-left: 10px;">Generate</button>
      </div>
      <br>
      <button type="submit">Generate Invoice</button>
    </form>
    <div id="input-explanation">
      <h2>Input Explanations</h2>
      <div class="explanation-item">
        <strong>Amount (fiat currency):</strong>
        <p>Enter the amount in fiat currency (e.g., 0.01 for 1 cent). It will be formatted automatically.</p>
      </div>
      <div class="explanation-item">
        <strong>Lightning Address:</strong>
        <p>Provide the recipient's Lightning Network address. This is also used for refunding expired invoices.</p>
      </div>
      <div class="explanation-item">
        <strong>Description:</strong>
        <p>Add a short note about the transaction (e.g., "Dinner payment").</p>
      </div>
      <div class="explanation-item">
        <strong>Correlation ID:</strong>
        <p> A unique identifier for tracking this transaction. Click 'Generate' to create a random ID. Ensure the Correlation ID is unique to avoid errors with the Strike API. </p>
      </div>
    </div>
    <script src="{{ url_for('static', filename='random.js') }}"></script>
    <script src="{{ url_for('static', filename='payment.js') }}"></script>
    <script src="{{ url_for('static', filename='currencyFormatter.js') }}"></script>
  </body>
</html>