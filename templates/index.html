<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Lightning Invoice</title>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   </head>
   <body>
      <h1>Lightning Payment</h1>
      <form id="payment-form">
         <label>Amount (fiat currency):</label>
         <input type="text" id="amount_fiat" required><br>

         <label>Lightning Address:</label>
         <input type="text" id="ln_address" required><br>

         <label>Description:</label>
         <input type="text" id="description" required><br>

         <label>Correlation ID:</label>
         <div style="display: flex; align-items: center;">
            <input type="text" id="correlation_id" required>
            <button type="button" id="generate_correlation" style="margin-left: 10px;">Generate</button>
         </div>

         <br>
         <button type="submit">Generate Invoice</button>
      </form>

      <div id="input-explanation" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; background-color: #f9f9f9;">
         <h2>Input Explanations</h2>
         <p><strong>Amount (fiat currency):</strong> Enter the amount in Currency (e.g., 0.01 for 1 cent). It will be formatted automatically.</p>
         <p><strong>Lightning Address:</strong> Provide the recipient's Lightning Network address (used for refunding expired invoices).</p>
         <p><strong>Description:</strong> A short note about the transaction (e.g., "Dinner payment").</p>
         <p><strong>Correlation ID:</strong> A unique identifier for tracking this transaction. Click 'Generate' to create a random ID. The Correlation ID must always be unique; otherwise, the Strike API will return an error.</p>
      </div>

      <script src="{{ url_for('static', filename='random.js') }}"></script>
      <script src="{{ url_for('static', filename='payment.js') }}"></script>
      <script src="{{ url_for('static', filename='currencyFormatter.js') }}"></script>
   </body>
</html>